(self.webpackChunksalita_components=self.webpackChunksalita_components||[]).push([[383],{15383:function(b,z,f){"use strict";f.r(z),f.d(z,{DragColumn:function(){return Te},DragList:function(){return be},Watermark:function(){return Ne}});var G=f(67825),w=f.n(G),l=f(50959);function y(n){var r=(0,l.useRef)(n);return r.current=n,r}var E=y,j=function(n){return n!==null&&typeof n=="object"},_=function(n){return typeof n=="function"},q=function(n){return typeof n=="string"},Pe=function(n){return typeof n=="boolean"},we=function(n){return typeof n=="number"},_e=function(n){return typeof n=="undefined"},ue=!1,te=ue,de=function(n){te&&(_(n)||console.error("useUnmount expected parameter is a function, got ".concat(typeof n)));var r=E(n);(0,l.useEffect)(function(){return function(){r.current()}},[])},se=de,ne=function(r,t,s){for(var i=r;i;){var v=i===s||i===document.body;if(v||i.nodeType===1&&i.matches(t)){v&&(i=null);break}i=i.parentNode}return i},ge=function(r){var t=r;do{var s=window.getComputedStyle(t),i=s.overflow;if((i==="auto"||i==="scroll")&&t&&t.nodeType&&(t.offsetWidth<t.scrollWidth||t.offsetHeight<t.scrollHeight))break;if(!t||!t.nodeType||t===document.body){t=null;break}t=t.parentNode}while(t);return t},oe=function(r,t){return Array.from(r.parentNode.children).filter(function(s){return t===""?!0:!s.matches(t)}).indexOf(r)},fe="tr",X={TOP:1,BOTTOM:3},ee="px",ve="position:fixed;z-index:9999;height:0;margin-top:-1px;border-bottom:dashed 2px red;display:none;",pe={},me=function(r){return r()},ie=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pe,s=r.onDragEnd,i=r.handleSelector,v=i===void 0?"":i,T=r.nodeSelector,S=T===void 0?fe:T,D=r.ignoreSelector,c=D===void 0?"":D,u=r.enableScroll,p=u===void 0?!0:u,m=r.scrollSpeed,L=m===void 0?10:m,C=r.lineClassName,M=C===void 0?"":C,A=t.getDragLine,I=A===void 0?me:A,P=t.resolveAutoScroll,$=t.fixDragLine,e=(0,l.useRef)({fromIndex:-1,toIndex:-1,scrollElement:null,scrollTimerId:-1,direction:X.BOTTOM,dragList:null,dragLine:null,cacheDragTarget:null});se(function(){e.current.dragLine&&e.current.dragLine.parentNode&&(e.current.dragLine.parentNode.removeChild(e.current.dragLine),e.current.dragLine=null,e.current.cacheDragTarget=null)});var O=function(){e.current.dragLine&&(e.current.dragLine.style.display="none")},h=function(){return I(function(){return e.current.dragLine||(e.current.dragLine=window.document.createElement("div"),e.current.dragLine.setAttribute("style",ve),window.document.body.appendChild(e.current.dragLine)),e.current.dragLine.className=M||"",e.current.dragLine},e.current)},R=function(a){return ne(a,S,e.current.dragList)},Y=function(a){return ne(a,v||S,e.current.dragList)},Q=$?function(d){$(d,e.current,{getDragLine:h,hideDragLine:O})}:function(d){var a=h();if(!d||e.current.fromIndex<0||e.current.fromIndex===e.current.toIndex){O();return}var o=d.getBoundingClientRect(),g=o.left,x=o.top,U=o.width,k=o.height,H=e.current.toIndex<e.current.fromIndex?x:x+k;if(p&&e.current.scrollElement){var le=e.current.scrollElement.getBoundingClientRect(),Ce=le.height,ce=le.top;if(H<ce-2||H>ce+Ce+2){O();return}}a.style.left=g+ee,a.style.width=U+ee,a.style.top=H+ee,a.style.display="block"},N=function(){clearInterval(e.current.scrollTimerId),e.current.scrollTimerId=-1,Q(e.current.cacheDragTarget)},F=function(){var a=e.current.scrollElement,o=a.scrollTop;e.current.direction===X.BOTTOM?(e.current.scrollElement.scrollTop=o+L,o===e.current.scrollElement.scrollTop&&N()):e.current.direction===X.TOP?(e.current.scrollElement.scrollTop=o-L,e.current.scrollElement.scrollTop<=0&&N()):N()},J=P?function(d,a){P(d,a,e.current,{autoScroll:F,stopAutoScroll:N})}:function(d,a){if(e.current.scrollElement){var o=e.current.scrollElement.getBoundingClientRect(),g=o.top,x=o.height,U=a.offsetHeight,k=d.clientY,H=U*(2/3);e.current.direction=0,k>g+x-H?e.current.direction=X.BOTTOM:k<g+H&&(e.current.direction=X.TOP),e.current.direction?e.current.scrollTimerId<0&&(e.current.scrollTimerId=+setInterval(F,20)):N()}},B=function(a){var o=R(a.target);N(),o&&(o.removeAttribute("draggable"),o.ondragstart=null,o.ondragend=null,o.parentNode.ondragenter=null,o.parentNode.ondragover=null,e.current.fromIndex>=0&&e.current.fromIndex!==e.current.toIndex&&s(e.current.fromIndex,e.current.toIndex)),O(),e.current.fromIndex=-1,e.current.toIndex=-1},W=function(a){var o=R(a.target),g=a,x;o?(x=oe(o,c),p&&J(g,o)):(x=-1,N()),e.current.cacheDragTarget=o,e.current.toIndex=x,Q(o)},V=function(a){var o=R(a.target),g=a;if(o){var x=o.parentNode;g.dataTransfer.setData("Text",""),g.dataTransfer.effectAllowed="move",x.ondragenter=W,x.ondragover=function(k){return k.preventDefault(),!0};var U=oe(o,c);e.current.fromIndex=U,e.current.toIndex=U,e.current.scrollElement=ge(x)}},Z=function(a){var o=Y(a.target);if(o){var g=!v||v===S?o:R(o);g&&(o.setAttribute("draggable","false"),g.setAttribute("draggable","true"),g.ondragstart=V,g.ondragend=B,g.onmouseup=function(){g.removeAttribute("draggable")})}},Be=function(a){e.current.dragList=a};return{startDrag:Z,bindRef:Be}},K=f(11527),he=["children"],De=["children"],xe=function(r){var t=r.children,s=w()(r,he),i=ie(s),v=i.startDrag,T=i.bindRef;return(0,K.jsx)("div",{role:"presentation",onPointerDown:v,ref:T,children:t})},re="px",Le="width:0;margin-left:-1px;margin-top:0;border-bottom:0 none;border-left:dashed 2px red;",ae={RIGHT:2,LEFT:4},Ie=function(r){var t=r.children,s=w()(r,De),i=ie(s,{getDragLine:function(D,c){return c.dragLine||(D(),c.dragLine.setAttribute("style",c.dragLine.getAttribute("style")+Le)),c.dragLine},resolveAutoScroll:function(D,c,u,p){if(u.scrollElement){var m=u.scrollElement.getBoundingClientRect(),L=m.left,C=m.width,M=c.offsetWidth,A=D.clientX,I=M*2/3;u.direction=0,A>L+C-I?u.direction=ae.RIGHT:A<L+I&&(u.direction=ae.LEFT),u.direction?u.scrollTimerId<0&&(u.scrollTimerId=+setInterval(p.autoScroll,20)):p.stopAutoScroll()}},fixDragLine:function(D,c,u){var p=u.getDragLine();if(!D||c.fromIndex<0||c.fromIndex===c.toIndex){u.hideDragLine();return}var m=D.getBoundingClientRect(),L=m.left,C=m.top,M=m.width,A=m.height,I=c.toIndex<c.fromIndex?L:L+M;if(s.enableScroll&&c.scrollElement){var P=c.scrollElement.getBoundingClientRect(),$=P.width,e=P.left;if(I<e-2||I>e+$+2){u.hideDragLine();return}}p.style.top=C+re,p.style.height=A+re,p.style.left=I+re,p.style.display="block"}}),v=i.startDrag,T=i.bindRef;return(0,K.jsx)("div",{role:"presentation",onPointerDown:v,ref:T,children:t})},be=(0,l.memo)(xe),Te=(0,l.memo)(Ie),ye=f(48305),Ee=f.n(ye);function Se(n){te&&(_(n)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof n)));var r=(0,l.useRef)(n);r.current=(0,l.useMemo)(function(){return n},[n]);var t=(0,l.useRef)();return t.current||(t.current=function(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];return r.current.apply(this,s)}),t.current}var Ae=Se,Oe=function(r){var t=r.content,s=r.color,i=s===void 0?"rgba(0,0,0,.15)":s,v=r.font,T=v===void 0?"normal normal normal 16px sans-serif":v,S=r.rotate,D=S===void 0?-22:S,c=r.gap,u=c===void 0?[100,100]:c,p=r.offset,m=p===void 0?[0,0]:p,L=r.zIndex,C=L===void 0?9:L,M=r.children,A=(0,l.useState)(""),I=Ee()(A,2),P=I[0],$=I[1],e=Ae(function(){var O=document.createElement("canvas"),h=O.getContext("2d"),R=D%360;h.fillStyle=i,h.font=T,h.textBaseline="top";var Y=h.measureText(t),Q=Y.actualBoundingBoxDescent,N=Y.actualBoundingBoxAscent,F=Y.width,J=Q-N,B=Math.abs(R),W=B>270?360-B:B>180?B-180:B>90?180-B:B,V=Math.sin(W*Math.PI/180)*J+Math.cos(W*Math.PI/180)*F,Z=Math.sin(W*Math.PI/180)*F+Math.cos(W*Math.PI/180)*J;O.width=V+u[0],O.height=Z+u[1],h.fillStyle=i,h.font=T,h.textBaseline="top",h.translate(V/2,Z/2),h.rotate(R*Math.PI/180),h.fillText(t,-F/2,-J/2),$(O.toDataURL("image/png"))});return(0,l.useEffect)(function(){e()},[t,i,T,D,u]),(0,K.jsxs)("div",{style:{position:"relative"},children:[P&&(0,K.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:"url(".concat(P,")"),backgroundRepeat:"repeat",zIndex:C,pointerEvents:"none",backgroundPosition:"".concat(m[0],"px ").concat(m[1],"px")}}),M]})},Ne=(0,l.memo)(Oe)},67825:function(b,z,f){var G=f(64382);function w(l,y){if(l==null)return{};var E=G(l,y),j,_;if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(l);for(_=0;_<q.length;_++)j=q[_],!(y.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(l,j)&&(E[j]=l[j])}return E}b.exports=w,b.exports.__esModule=!0,b.exports.default=b.exports},64382:function(b){function z(f,G){if(f==null)return{};var w={},l=Object.keys(f),y,E;for(E=0;E<l.length;E++)y=l[E],!(G.indexOf(y)>=0)&&(w[y]=f[y]);return w}b.exports=z,b.exports.__esModule=!0,b.exports.default=b.exports}}]);
