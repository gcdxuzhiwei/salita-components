(self.webpackChunksalita_components=self.webpackChunksalita_components||[]).push([[17],{51017:function(b,G,f){"use strict";f.r(G),f.d(G,{DragColumn:function(){return Te},DragList:function(){return be},Watermark:function(){return Oe},WordCloud:function(){return Ne}});var X=f(67825),w=f.n(X),l=f(50959);function E(n){var r=(0,l.useRef)(n);return r.current=n,r}var y=E,W=function(n){return n!==null&&typeof n=="object"},_=function(n){return typeof n=="function"},q=function(n){return typeof n=="string"},_e=function(n){return typeof n=="boolean"},Me=function(n){return typeof n=="number"},Fe=function(n){return typeof n=="undefined"},ue=!1,te=ue,de=function(n){te&&(_(n)||console.error("useUnmount expected parameter is a function, got ".concat(typeof n)));var r=y(n);(0,l.useEffect)(function(){return function(){r.current()}},[])},se=de,ne=function(r,t,s){for(var i=r;i;){var v=i===s||i===document.body;if(v||i.nodeType===1&&i.matches(t)){v&&(i=null);break}i=i.parentNode}return i},ge=function(r){var t=r;do{var s=window.getComputedStyle(t),i=s.overflow;if((i==="auto"||i==="scroll")&&t&&t.nodeType&&(t.offsetWidth<t.scrollWidth||t.offsetHeight<t.scrollHeight))break;if(!t||!t.nodeType||t===document.body){t=null;break}t=t.parentNode}while(t);return t},oe=function(r,t){return Array.from(r.parentNode.children).filter(function(s){return t===""?!0:!s.matches(t)}).indexOf(r)},fe="tr",Y={TOP:1,BOTTOM:3},ee="px",ve="position:fixed;z-index:9999;height:0;margin-top:-1px;border-bottom:dashed 2px red;display:none;",me={},pe=function(r){return r()},ie=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:me,s=r.onDragEnd,i=r.handleSelector,v=i===void 0?"":i,T=r.nodeSelector,S=T===void 0?fe:T,D=r.ignoreSelector,c=D===void 0?"":D,u=r.enableScroll,m=u===void 0?!0:u,p=r.scrollSpeed,L=p===void 0?10:p,N=r.lineClassName,M=N===void 0?"":N,A=t.getDragLine,I=A===void 0?pe:A,P=t.resolveAutoScroll,j=t.fixDragLine,e=(0,l.useRef)({fromIndex:-1,toIndex:-1,scrollElement:null,scrollTimerId:-1,direction:Y.BOTTOM,dragList:null,dragLine:null,cacheDragTarget:null});se(function(){e.current.dragLine&&e.current.dragLine.parentNode&&(e.current.dragLine.parentNode.removeChild(e.current.dragLine),e.current.dragLine=null,e.current.cacheDragTarget=null)});var C=function(){e.current.dragLine&&(e.current.dragLine.style.display="none")},h=function(){return I(function(){return e.current.dragLine||(e.current.dragLine=window.document.createElement("div"),e.current.dragLine.setAttribute("style",ve),window.document.body.appendChild(e.current.dragLine)),e.current.dragLine.className=M||"",e.current.dragLine},e.current)},F=function(a){return ne(a,S,e.current.dragList)},J=function(a){return ne(a,v||S,e.current.dragList)},Q=j?function(d){j(d,e.current,{getDragLine:h,hideDragLine:C})}:function(d){var a=h();if(!d||e.current.fromIndex<0||e.current.fromIndex===e.current.toIndex){C();return}var o=d.getBoundingClientRect(),g=o.left,x=o.top,k=o.width,H=o.height,z=e.current.toIndex<e.current.fromIndex?x:x+H;if(m&&e.current.scrollElement){var le=e.current.scrollElement.getBoundingClientRect(),we=le.height,ce=le.top;if(z<ce-2||z>ce+we+2){C();return}}a.style.left=g+ee,a.style.width=k+ee,a.style.top=z+ee,a.style.display="block"},O=function(){clearInterval(e.current.scrollTimerId),e.current.scrollTimerId=-1,Q(e.current.cacheDragTarget)},$=function(){var a=e.current.scrollElement,o=a.scrollTop;e.current.direction===Y.BOTTOM?(e.current.scrollElement.scrollTop=o+L,o===e.current.scrollElement.scrollTop&&O()):e.current.direction===Y.TOP?(e.current.scrollElement.scrollTop=o-L,e.current.scrollElement.scrollTop<=0&&O()):O()},K=P?function(d,a){P(d,a,e.current,{autoScroll:$,stopAutoScroll:O})}:function(d,a){if(e.current.scrollElement){var o=e.current.scrollElement.getBoundingClientRect(),g=o.top,x=o.height,k=a.offsetHeight,H=d.clientY,z=k*(2/3);e.current.direction=0,H>g+x-z?e.current.direction=Y.BOTTOM:H<g+z&&(e.current.direction=Y.TOP),e.current.direction?e.current.scrollTimerId<0&&(e.current.scrollTimerId=+setInterval($,20)):O()}},B=function(a){var o=F(a.target);O(),o&&(o.removeAttribute("draggable"),o.ondragstart=null,o.ondragend=null,o.parentNode.ondragenter=null,o.parentNode.ondragover=null,e.current.fromIndex>=0&&e.current.fromIndex!==e.current.toIndex&&s(e.current.fromIndex,e.current.toIndex)),C(),e.current.fromIndex=-1,e.current.toIndex=-1},U=function(a){var o=F(a.target),g=a,x;o?(x=oe(o,c),m&&K(g,o)):(x=-1,O()),e.current.cacheDragTarget=o,e.current.toIndex=x,Q(o)},V=function(a){var o=F(a.target),g=a;if(o){var x=o.parentNode;g.dataTransfer.setData("Text",""),g.dataTransfer.effectAllowed="move",x.ondragenter=U,x.ondragover=function(H){return H.preventDefault(),!0};var k=oe(o,c);e.current.fromIndex=k,e.current.toIndex=k,e.current.scrollElement=ge(x)}},Z=function(a){var o=J(a.target);if(o){var g=!v||v===S?o:F(o);g&&(o.setAttribute("draggable","false"),g.setAttribute("draggable","true"),g.ondragstart=V,g.ondragend=B,g.onmouseup=function(){g.removeAttribute("draggable")})}},Pe=function(a){e.current.dragList=a};return{startDrag:Z,bindRef:Pe}},R=f(11527),he=["children"],De=["children"],xe=function(r){var t=r.children,s=w()(r,he),i=ie(s),v=i.startDrag,T=i.bindRef;return(0,R.jsx)("div",{role:"presentation",onPointerDown:v,ref:T,children:t})},re="px",Le="width:0;margin-left:-1px;margin-top:0;border-bottom:0 none;border-left:dashed 2px red;",ae={RIGHT:2,LEFT:4},Ie=function(r){var t=r.children,s=w()(r,De),i=ie(s,{getDragLine:function(D,c){return c.dragLine||(D(),c.dragLine.setAttribute("style",c.dragLine.getAttribute("style")+Le)),c.dragLine},resolveAutoScroll:function(D,c,u,m){if(u.scrollElement){var p=u.scrollElement.getBoundingClientRect(),L=p.left,N=p.width,M=c.offsetWidth,A=D.clientX,I=M*2/3;u.direction=0,A>L+N-I?u.direction=ae.RIGHT:A<L+I&&(u.direction=ae.LEFT),u.direction?u.scrollTimerId<0&&(u.scrollTimerId=+setInterval(m.autoScroll,20)):m.stopAutoScroll()}},fixDragLine:function(D,c,u){var m=u.getDragLine();if(!D||c.fromIndex<0||c.fromIndex===c.toIndex){u.hideDragLine();return}var p=D.getBoundingClientRect(),L=p.left,N=p.top,M=p.width,A=p.height,I=c.toIndex<c.fromIndex?L:L+M;if(s.enableScroll&&c.scrollElement){var P=c.scrollElement.getBoundingClientRect(),j=P.width,e=P.left;if(I<e-2||I>e+j+2){u.hideDragLine();return}}m.style.top=N+re,m.style.height=A+re,m.style.left=I+re,m.style.display="block"}}),v=i.startDrag,T=i.bindRef;return(0,R.jsx)("div",{role:"presentation",onPointerDown:v,ref:T,children:t})},be=(0,l.memo)(xe),Te=(0,l.memo)(Ie),Ee=f(48305),ye=f.n(Ee);function Se(n){te&&(_(n)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof n)));var r=(0,l.useRef)(n);r.current=(0,l.useMemo)(function(){return n},[n]);var t=(0,l.useRef)();return t.current||(t.current=function(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];return r.current.apply(this,s)}),t.current}var Ae=Se,Ce=function(r){var t=r.content,s=r.color,i=s===void 0?"rgba(0,0,0,.15)":s,v=r.font,T=v===void 0?"normal normal normal 16px sans-serif":v,S=r.rotate,D=S===void 0?-22:S,c=r.gap,u=c===void 0?[100,100]:c,m=r.offset,p=m===void 0?[0,0]:m,L=r.zIndex,N=L===void 0?9:L,M=r.children,A=(0,l.useState)(""),I=ye()(A,2),P=I[0],j=I[1],e=Ae(function(){var C=document.createElement("canvas"),h=C.getContext("2d"),F=D%360;h.fillStyle=i,h.font=T,h.textBaseline="top";var J=h.measureText(t),Q=J.actualBoundingBoxDescent,O=J.actualBoundingBoxAscent,$=J.width,K=Q-O,B=Math.abs(F),U=B>270?360-B:B>180?B-180:B>90?180-B:B,V=Math.sin(U*Math.PI/180)*K+Math.cos(U*Math.PI/180)*$,Z=Math.sin(U*Math.PI/180)*$+Math.cos(U*Math.PI/180)*K;C.width=V+u[0],C.height=Z+u[1],h.fillStyle=i,h.font=T,h.textBaseline="top",h.translate(V/2,Z/2),h.rotate(F*Math.PI/180),h.fillText(t,-$/2,-K/2),j(C.toDataURL("image/png"))});return(0,l.useEffect)(function(){e()},[t,i,T,D,u]),(0,R.jsxs)("div",{style:{position:"relative"},children:[P&&(0,R.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:"url(".concat(P,")"),backgroundRepeat:"repeat",zIndex:N,pointerEvents:"none",backgroundPosition:"".concat(p[0],"px ").concat(p[1],"px")}}),M]})},Oe=(0,l.memo)(Ce),Be=function(){return(0,R.jsx)(R.Fragment,{children:"\u8FD9\u662F\u8BCD\u4E91\u7EC4\u4EF6"})},Ne=Be},67825:function(b,G,f){var X=f(64382);function w(l,E){if(l==null)return{};var y=X(l,E),W,_;if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(l);for(_=0;_<q.length;_++)W=q[_],!(E.indexOf(W)>=0)&&Object.prototype.propertyIsEnumerable.call(l,W)&&(y[W]=l[W])}return y}b.exports=w,b.exports.__esModule=!0,b.exports.default=b.exports},64382:function(b){function G(f,X){if(f==null)return{};var w={},l=Object.keys(f),E,y;for(y=0;y<l.length;y++)E=l[y],!(X.indexOf(E)>=0)&&(w[E]=f[E]);return w}b.exports=G,b.exports.__esModule=!0,b.exports.default=b.exports}}]);
