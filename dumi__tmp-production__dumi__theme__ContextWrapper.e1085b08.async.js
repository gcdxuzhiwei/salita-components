(self.webpackChunksalita_components=self.webpackChunksalita_components||[]).push([[923,383],{31021:function(E,w,i){"use strict";i.r(w),i.d(w,{default:function(){return V}});var U=i(48305),S=i.n(U),c=i(26068),L=i.n(c),_=i(50959),I=i(7216),O=i(40688),$=i(77926),se=i(29979),de=i(15383),ge=i(11527),oe=L()({},de);function V(){var ae=(0,I.pC)(),ie=(0,_.useState)(!1),Y=S()(ie,2),le=Y[0],Z=Y[1],q=(0,_.useRef)(I.m8.location.pathname);return(0,_.useEffect)(function(){return I.m8.listen(function(R){R.location.pathname!==q.current&&(q.current=R.location.pathname,document.documentElement.scrollTo(0,0))})},[]),(0,ge.jsx)(O.D.Provider,{value:{pkg:{name:"salita-components",description:"A react library developed with dumi",version:"0.0.5",license:"MIT",repository:{type:"git",url:"https://github.com/gcdxuzhiwei/salita-components.git"},authors:["gcdxuzhiwei@gmail.com"]},historyType:"browser",entryExports:oe,demos:$.DE,components:$.wx,locales:se.k,loading:le,setLoading:Z,hostname:void 0,themeConfig:{title:"salita-components",footer:'Copyright \xA9 2024 | Powered by <a href="https://d.umijs.org" target="_blank" rel="noreferrer">dumi</a>',prefersColor:{default:"light",switch:!0},nprogress:!0,lastUpdated:!0,name:"salita-components",nav:[],sidebar:{"/":[{children:[{title:"\u4F7F\u7528\u8BF4\u660E",link:"/"},{title:"\u6C34\u5370",link:"/watermark"},{title:"\u62D6\u62FD\u6392\u5E8F",link:"/drag-list"}]}],"/watermark":[{children:[{title:"\u4F7F\u7528\u8BF4\u660E",link:"/"},{title:"\u6C34\u5370",link:"/watermark"},{title:"\u62D6\u62FD\u6392\u5E8F",link:"/drag-list"}]}],"/drag-list":[{children:[{title:"\u4F7F\u7528\u8BF4\u660E",link:"/"},{title:"\u6C34\u5370",link:"/watermark"},{title:"\u62D6\u62FD\u6392\u5E8F",link:"/drag-list"}]}]},editLink:"https://github.com/gcdxuzhiwei/salita-components/edit/main/{filename}"},_2_level_nav_available:!0},children:ae})}},15383:function(E,w,i){"use strict";i.r(w),i.d(w,{DragColumn:function(){return ye},DragList:function(){return Ie},Watermark:function(){return Ce}});var U=i(67825),S=i.n(U),c=i(50959);function L(n){var t=(0,c.useRef)(n);return t.current=n,t}var _=L,I=function(n){return n!==null&&typeof n=="object"},O=function(n){return typeof n=="function"},$=function(n){return typeof n=="string"},se=function(n){return typeof n=="boolean"},de=function(n){return typeof n=="number"},ge=function(n){return typeof n=="undefined"},oe=!1,V=oe,ae=function(n){V&&(O(n)||console.error("useUnmount expected parameter is a function, got ".concat(typeof n)));var t=_(n);(0,c.useEffect)(function(){return function(){t.current()}},[])},ie=ae,Y=function(t,r,g){for(var a=t;a;){var m=a===g||a===document.body;if(m||a.nodeType===1&&a.matches(r)){m&&(a=null);break}a=a.parentNode}return a},le=function(t){var r=t;do{var g=window.getComputedStyle(r),a=g.overflow;if((a==="auto"||a==="scroll")&&r&&r.nodeType&&(r.offsetWidth<r.scrollWidth||r.offsetHeight<r.scrollHeight))break;if(!r||!r.nodeType||r===document.body){r=null;break}r=r.parentNode}while(r);return r},Z=function(t,r){return Array.from(t.parentNode.children).filter(function(g){return r===""?!0:!g.matches(r)}).indexOf(t)},q="tr",R={TOP:1,BOTTOM:3},ce="px",pe="position:fixed;z-index:9999;height:0;margin-top:-1px;border-bottom:dashed 2px red;display:none;",he={},De=function(t){return t()},fe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:he,g=t.onDragEnd,a=t.handleSelector,m=a===void 0?"":a,y=t.nodeSelector,P=y===void 0?q:y,D=t.ignoreSelector,u=D===void 0?"":D,s=t.enableScroll,v=s===void 0?!0:s,p=t.scrollSpeed,b=p===void 0?10:p,W=t.lineClassName,N=W===void 0?"":W,A=r.getDragLine,T=A===void 0?De:A,j=r.resolveAutoScroll,F=r.fixDragLine,e=(0,c.useRef)({fromIndex:-1,toIndex:-1,scrollElement:null,scrollTimerId:-1,direction:R.BOTTOM,dragList:null,dragLine:null,cacheDragTarget:null});ie(function(){e.current.dragLine&&e.current.dragLine.parentNode&&(e.current.dragLine.parentNode.removeChild(e.current.dragLine),e.current.dragLine=null,e.current.cacheDragTarget=null)});var M=function(){e.current.dragLine&&(e.current.dragLine.style.display="none")},h=function(){return T(function(){return e.current.dragLine||(e.current.dragLine=window.document.createElement("div"),e.current.dragLine.setAttribute("style",pe),window.document.body.appendChild(e.current.dragLine)),e.current.dragLine.className=N||"",e.current.dragLine},e.current)},k=function(l){return Y(l,P,e.current.dragList)},J=function(l){return Y(l,m||P,e.current.dragList)},te=F?function(d){F(d,e.current,{getDragLine:h,hideDragLine:M})}:function(d){var l=h();if(!d||e.current.fromIndex<0||e.current.fromIndex===e.current.toIndex){M();return}var o=d.getBoundingClientRect(),f=o.left,x=o.top,H=o.width,G=o.height,X=e.current.toIndex<e.current.fromIndex?x:x+G;if(v&&e.current.scrollElement){var me=e.current.scrollElement.getBoundingClientRect(),we=me.height,ve=me.top;if(X<ve-2||X>ve+we+2){M();return}}l.style.left=f+ce,l.style.width=H+ce,l.style.top=X+ce,l.style.display="block"},C=function(){clearInterval(e.current.scrollTimerId),e.current.scrollTimerId=-1,te(e.current.cacheDragTarget)},z=function(){var l=e.current.scrollElement,o=l.scrollTop;e.current.direction===R.BOTTOM?(e.current.scrollElement.scrollTop=o+b,o===e.current.scrollElement.scrollTop&&C()):e.current.direction===R.TOP?(e.current.scrollElement.scrollTop=o-b,e.current.scrollElement.scrollTop<=0&&C()):C()},Q=j?function(d,l){j(d,l,e.current,{autoScroll:z,stopAutoScroll:C})}:function(d,l){if(e.current.scrollElement){var o=e.current.scrollElement.getBoundingClientRect(),f=o.top,x=o.height,H=l.offsetHeight,G=d.clientY,X=H*(2/3);e.current.direction=0,G>f+x-X?e.current.direction=R.BOTTOM:G<f+X&&(e.current.direction=R.TOP),e.current.direction?e.current.scrollTimerId<0&&(e.current.scrollTimerId=+setInterval(z,20)):C()}},B=function(l){var o=k(l.target);C(),o&&(o.removeAttribute("draggable"),o.ondragstart=null,o.ondragend=null,o.parentNode.ondragenter=null,o.parentNode.ondragover=null,e.current.fromIndex>=0&&e.current.fromIndex!==e.current.toIndex&&g(e.current.fromIndex,e.current.toIndex)),M(),e.current.fromIndex=-1,e.current.toIndex=-1},K=function(l){var o=k(l.target),f=l,x;o?(x=Z(o,u),v&&Q(f,o)):(x=-1,C()),e.current.cacheDragTarget=o,e.current.toIndex=x,te(o)},re=function(l){var o=k(l.target),f=l;if(o){var x=o.parentNode;f.dataTransfer.setData("Text",""),f.dataTransfer.effectAllowed="move",x.ondragenter=K,x.ondragover=function(G){return G.preventDefault(),!0};var H=Z(o,u);e.current.fromIndex=H,e.current.toIndex=H,e.current.scrollElement=le(x)}},ne=function(l){var o=J(l.target);if(o){var f=!m||m===P?o:k(o);f&&(o.setAttribute("draggable","false"),f.setAttribute("draggable","true"),f.ondragstart=re,f.ondragend=B,f.onmouseup=function(){f.removeAttribute("draggable")})}},Be=function(l){e.current.dragList=l};return{startDrag:ne,bindRef:Be}},ee=i(11527),xe=["children"],Ee=["children"],Le=function(t){var r=t.children,g=S()(t,xe),a=fe(g),m=a.startDrag,y=a.bindRef;return(0,ee.jsx)("div",{role:"presentation",onPointerDown:m,ref:y,children:r})},ue="px",be="width:0;margin-left:-1px;margin-top:0;border-bottom:0 none;border-left:dashed 2px red;",_e={RIGHT:2,LEFT:4},Te=function(t){var r=t.children,g=S()(t,Ee),a=fe(g,{getDragLine:function(D,u){return u.dragLine||(D(),u.dragLine.setAttribute("style",u.dragLine.getAttribute("style")+be)),u.dragLine},resolveAutoScroll:function(D,u,s,v){if(s.scrollElement){var p=s.scrollElement.getBoundingClientRect(),b=p.left,W=p.width,N=u.offsetWidth,A=D.clientX,T=N*2/3;s.direction=0,A>b+W-T?s.direction=_e.RIGHT:A<b+T&&(s.direction=_e.LEFT),s.direction?s.scrollTimerId<0&&(s.scrollTimerId=+setInterval(v.autoScroll,20)):v.stopAutoScroll()}},fixDragLine:function(D,u,s){var v=s.getDragLine();if(!D||u.fromIndex<0||u.fromIndex===u.toIndex){s.hideDragLine();return}var p=D.getBoundingClientRect(),b=p.left,W=p.top,N=p.width,A=p.height,T=u.toIndex<u.fromIndex?b:b+N;if(g.enableScroll&&u.scrollElement){var j=u.scrollElement.getBoundingClientRect(),F=j.width,e=j.left;if(T<e-2||T>e+F+2){s.hideDragLine();return}}v.style.top=W+ue,v.style.height=A+ue,v.style.left=T+ue,v.style.display="block"}}),m=a.startDrag,y=a.bindRef;return(0,ee.jsx)("div",{role:"presentation",onPointerDown:m,ref:y,children:r})},Ie=(0,c.memo)(Le),ye=(0,c.memo)(Te),Se=i(48305),Oe=i.n(Se);function Pe(n){V&&(O(n)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof n)));var t=(0,c.useRef)(n);t.current=(0,c.useMemo)(function(){return n},[n]);var r=(0,c.useRef)();return r.current||(r.current=function(){for(var g=[],a=0;a<arguments.length;a++)g[a]=arguments[a];return t.current.apply(this,g)}),r.current}var Ae=Pe,Me=function(t){var r=t.content,g=t.color,a=g===void 0?"rgba(0,0,0,.15)":g,m=t.font,y=m===void 0?"normal normal normal 16px sans-serif":m,P=t.rotate,D=P===void 0?-22:P,u=t.gap,s=u===void 0?[100,100]:u,v=t.offset,p=v===void 0?[0,0]:v,b=t.zIndex,W=b===void 0?9:b,N=t.children,A=(0,c.useState)(""),T=Oe()(A,2),j=T[0],F=T[1],e=Ae(function(){var M=document.createElement("canvas"),h=M.getContext("2d"),k=D%360;h.fillStyle=a,h.font=y,h.textBaseline="top";var J=h.measureText(r),te=J.actualBoundingBoxDescent,C=J.actualBoundingBoxAscent,z=J.width,Q=te-C,B=Math.abs(k),K=B>270?360-B:B>180?B-180:B>90?180-B:B,re=Math.sin(K*Math.PI/180)*Q+Math.cos(K*Math.PI/180)*z,ne=Math.sin(K*Math.PI/180)*z+Math.cos(K*Math.PI/180)*Q;M.width=re+s[0],M.height=ne+s[1],h.fillStyle=a,h.font=y,h.textBaseline="top",h.translate(re/2,ne/2),h.rotate(k*Math.PI/180),h.fillText(r,-z/2,-Q/2),F(M.toDataURL("image/png"))});return(0,c.useEffect)(function(){e()},[r,a,y,D,s]),(0,ee.jsxs)("div",{style:{position:"relative"},children:[j&&(0,ee.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:"url(".concat(j,")"),backgroundRepeat:"repeat",zIndex:W,pointerEvents:"none",backgroundPosition:"".concat(p[0],"px ").concat(p[1],"px")}}),N]})},Ce=(0,c.memo)(Me)},67825:function(E,w,i){var U=i(64382);function S(c,L){if(c==null)return{};var _=U(c,L),I,O;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(c);for(O=0;O<$.length;O++)I=$[O],!(L.indexOf(I)>=0)&&Object.prototype.propertyIsEnumerable.call(c,I)&&(_[I]=c[I])}return _}E.exports=S,E.exports.__esModule=!0,E.exports.default=E.exports},64382:function(E){function w(i,U){if(i==null)return{};var S={},c=Object.keys(i),L,_;for(_=0;_<c.length;_++)L=c[_],!(U.indexOf(L)>=0)&&(S[L]=i[L]);return S}E.exports=w,E.exports.__esModule=!0,E.exports.default=E.exports}}]);
