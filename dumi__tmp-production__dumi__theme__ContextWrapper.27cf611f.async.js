(self.webpackChunksalita_components=self.webpackChunksalita_components||[]).push([[923,17],{31021:function(x,B,a){"use strict";a.r(B),a.d(B,{default:function(){return Z}});var j=a(48305),S=a.n(j),u=a(26068),L=a.n(u),_=a(50959),I=a(7216),O=a(40688),F=a(58997),se=a(29979),de=a(51017),ge=a(11527),oe=L()({},de);function Z(){var ie=(0,I.pC)(),ae=(0,_.useState)(!1),J=S()(ae,2),le=J[0],q=J[1],ee=(0,_.useRef)(I.m8.location.pathname);return(0,_.useEffect)(function(){return I.m8.listen(function(k){k.location.pathname!==ee.current&&(ee.current=k.location.pathname,document.documentElement.scrollTo(0,0))})},[]),(0,ge.jsx)(O.D.Provider,{value:{pkg:{name:"salita-components",description:"A react library developed with dumi",version:"0.0.4",license:"MIT",repository:{type:"git",url:"https://github.com/gcdxuzhiwei/salita-components.git"},authors:["gcdxuzhiwei@gmail.com"]},historyType:"browser",entryExports:oe,demos:F.DE,components:F.wx,locales:se.k,loading:le,setLoading:q,hostname:void 0,themeConfig:{title:"salita-components",footer:'Copyright \xA9 2024 | Powered by <a href="https://d.umijs.org" target="_blank" rel="noreferrer">dumi</a>',prefersColor:{default:"light",switch:!0},nprogress:!0,lastUpdated:!0,name:"salita-components",nav:[],sidebar:{"/":[{children:[{title:"\u4F7F\u7528\u8BF4\u660E",link:"/"},{title:"\u6C34\u5370",link:"/watermark"},{title:"\u62D6\u62FD\u6392\u5E8F",link:"/drag-list"},{title:"\u8BCD\u4E91",link:"/word-cloud"}]}],"/watermark":[{children:[{title:"\u4F7F\u7528\u8BF4\u660E",link:"/"},{title:"\u6C34\u5370",link:"/watermark"},{title:"\u62D6\u62FD\u6392\u5E8F",link:"/drag-list"},{title:"\u8BCD\u4E91",link:"/word-cloud"}]}],"/drag-list":[{children:[{title:"\u4F7F\u7528\u8BF4\u660E",link:"/"},{title:"\u6C34\u5370",link:"/watermark"},{title:"\u62D6\u62FD\u6392\u5E8F",link:"/drag-list"},{title:"\u8BCD\u4E91",link:"/word-cloud"}]}],"/word-cloud":[{children:[{title:"\u4F7F\u7528\u8BF4\u660E",link:"/"},{title:"\u6C34\u5370",link:"/watermark"},{title:"\u62D6\u62FD\u6392\u5E8F",link:"/drag-list"},{title:"\u8BCD\u4E91",link:"/word-cloud"}]}]},editLink:"https://github.com/gcdxuzhiwei/salita-components/edit/main/{filename}"},_2_level_nav_available:!0},children:ie})}},51017:function(x,B,a){"use strict";a.r(B),a.d(B,{DragColumn:function(){return ye},DragList:function(){return Ie},Watermark:function(){return Me},WordCloud:function(){return Be}});var j=a(67825),S=a.n(j),u=a(50959);function L(n){var t=(0,u.useRef)(n);return t.current=n,t}var _=L,I=function(n){return n!==null&&typeof n=="object"},O=function(n){return typeof n=="function"},F=function(n){return typeof n=="string"},se=function(n){return typeof n=="boolean"},de=function(n){return typeof n=="number"},ge=function(n){return typeof n=="undefined"},oe=!1,Z=oe,ie=function(n){Z&&(O(n)||console.error("useUnmount expected parameter is a function, got ".concat(typeof n)));var t=_(n);(0,u.useEffect)(function(){return function(){t.current()}},[])},ae=ie,J=function(t,r,g){for(var i=t;i;){var m=i===g||i===document.body;if(m||i.nodeType===1&&i.matches(r)){m&&(i=null);break}i=i.parentNode}return i},le=function(t){var r=t;do{var g=window.getComputedStyle(r),i=g.overflow;if((i==="auto"||i==="scroll")&&r&&r.nodeType&&(r.offsetWidth<r.scrollWidth||r.offsetHeight<r.scrollHeight))break;if(!r||!r.nodeType||r===document.body){r=null;break}r=r.parentNode}while(r);return r},q=function(t,r){return Array.from(t.parentNode.children).filter(function(g){return r===""?!0:!g.matches(r)}).indexOf(t)},ee="tr",k={TOP:1,BOTTOM:3},ue="px",pe="position:fixed;z-index:9999;height:0;margin-top:-1px;border-bottom:dashed 2px red;display:none;",he={},De=function(t){return t()},fe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:he,g=t.onDragEnd,i=t.handleSelector,m=i===void 0?"":i,y=t.nodeSelector,P=y===void 0?ee:y,D=t.ignoreSelector,c=D===void 0?"":D,s=t.enableScroll,v=s===void 0?!0:s,p=t.scrollSpeed,b=p===void 0?10:p,W=t.lineClassName,U=W===void 0?"":W,C=r.getDragLine,T=C===void 0?De:C,R=r.resolveAutoScroll,z=r.fixDragLine,e=(0,u.useRef)({fromIndex:-1,toIndex:-1,scrollElement:null,scrollTimerId:-1,direction:k.BOTTOM,dragList:null,dragLine:null,cacheDragTarget:null});ae(function(){e.current.dragLine&&e.current.dragLine.parentNode&&(e.current.dragLine.parentNode.removeChild(e.current.dragLine),e.current.dragLine=null,e.current.cacheDragTarget=null)});var A=function(){e.current.dragLine&&(e.current.dragLine.style.display="none")},h=function(){return T(function(){return e.current.dragLine||(e.current.dragLine=window.document.createElement("div"),e.current.dragLine.setAttribute("style",pe),window.document.body.appendChild(e.current.dragLine)),e.current.dragLine.className=U||"",e.current.dragLine},e.current)},N=function(l){return J(l,P,e.current.dragList)},Q=function(l){return J(l,m||P,e.current.dragList)},te=z?function(d){z(d,e.current,{getDragLine:h,hideDragLine:A})}:function(d){var l=h();if(!d||e.current.fromIndex<0||e.current.fromIndex===e.current.toIndex){A();return}var o=d.getBoundingClientRect(),f=o.left,E=o.top,G=o.width,X=o.height,Y=e.current.toIndex<e.current.fromIndex?E:E+X;if(v&&e.current.scrollElement){var me=e.current.scrollElement.getBoundingClientRect(),We=me.height,ve=me.top;if(Y<ve-2||Y>ve+We+2){A();return}}l.style.left=f+ue,l.style.width=G+ue,l.style.top=Y+ue,l.style.display="block"},M=function(){clearInterval(e.current.scrollTimerId),e.current.scrollTimerId=-1,te(e.current.cacheDragTarget)},K=function(){var l=e.current.scrollElement,o=l.scrollTop;e.current.direction===k.BOTTOM?(e.current.scrollElement.scrollTop=o+b,o===e.current.scrollElement.scrollTop&&M()):e.current.direction===k.TOP?(e.current.scrollElement.scrollTop=o-b,e.current.scrollElement.scrollTop<=0&&M()):M()},V=R?function(d,l){R(d,l,e.current,{autoScroll:K,stopAutoScroll:M})}:function(d,l){if(e.current.scrollElement){var o=e.current.scrollElement.getBoundingClientRect(),f=o.top,E=o.height,G=l.offsetHeight,X=d.clientY,Y=G*(2/3);e.current.direction=0,X>f+E-Y?e.current.direction=k.BOTTOM:X<f+Y&&(e.current.direction=k.TOP),e.current.direction?e.current.scrollTimerId<0&&(e.current.scrollTimerId=+setInterval(K,20)):M()}},w=function(l){var o=N(l.target);M(),o&&(o.removeAttribute("draggable"),o.ondragstart=null,o.ondragend=null,o.parentNode.ondragenter=null,o.parentNode.ondragover=null,e.current.fromIndex>=0&&e.current.fromIndex!==e.current.toIndex&&g(e.current.fromIndex,e.current.toIndex)),A(),e.current.fromIndex=-1,e.current.toIndex=-1},H=function(l){var o=N(l.target),f=l,E;o?(E=q(o,c),v&&V(f,o)):(E=-1,M()),e.current.cacheDragTarget=o,e.current.toIndex=E,te(o)},re=function(l){var o=N(l.target),f=l;if(o){var E=o.parentNode;f.dataTransfer.setData("Text",""),f.dataTransfer.effectAllowed="move",E.ondragenter=H,E.ondragover=function(X){return X.preventDefault(),!0};var G=q(o,c);e.current.fromIndex=G,e.current.toIndex=G,e.current.scrollElement=le(E)}},ne=function(l){var o=Q(l.target);if(o){var f=!m||m===P?o:N(o);f&&(o.setAttribute("draggable","false"),f.setAttribute("draggable","true"),f.ondragstart=re,f.ondragend=w,f.onmouseup=function(){f.removeAttribute("draggable")})}},ke=function(l){e.current.dragList=l};return{startDrag:ne,bindRef:ke}},$=a(11527),Ee=["children"],xe=["children"],Le=function(t){var r=t.children,g=S()(t,Ee),i=fe(g),m=i.startDrag,y=i.bindRef;return(0,$.jsx)("div",{role:"presentation",onPointerDown:m,ref:y,children:r})},ce="px",be="width:0;margin-left:-1px;margin-top:0;border-bottom:0 none;border-left:dashed 2px red;",_e={RIGHT:2,LEFT:4},Te=function(t){var r=t.children,g=S()(t,xe),i=fe(g,{getDragLine:function(D,c){return c.dragLine||(D(),c.dragLine.setAttribute("style",c.dragLine.getAttribute("style")+be)),c.dragLine},resolveAutoScroll:function(D,c,s,v){if(s.scrollElement){var p=s.scrollElement.getBoundingClientRect(),b=p.left,W=p.width,U=c.offsetWidth,C=D.clientX,T=U*2/3;s.direction=0,C>b+W-T?s.direction=_e.RIGHT:C<b+T&&(s.direction=_e.LEFT),s.direction?s.scrollTimerId<0&&(s.scrollTimerId=+setInterval(v.autoScroll,20)):v.stopAutoScroll()}},fixDragLine:function(D,c,s){var v=s.getDragLine();if(!D||c.fromIndex<0||c.fromIndex===c.toIndex){s.hideDragLine();return}var p=D.getBoundingClientRect(),b=p.left,W=p.top,U=p.width,C=p.height,T=c.toIndex<c.fromIndex?b:b+U;if(g.enableScroll&&c.scrollElement){var R=c.scrollElement.getBoundingClientRect(),z=R.width,e=R.left;if(T<e-2||T>e+z+2){s.hideDragLine();return}}v.style.top=W+ce,v.style.height=C+ce,v.style.left=T+ce,v.style.display="block"}}),m=i.startDrag,y=i.bindRef;return(0,$.jsx)("div",{role:"presentation",onPointerDown:m,ref:y,children:r})},Ie=(0,u.memo)(Le),ye=(0,u.memo)(Te),Se=a(48305),Oe=a.n(Se);function Pe(n){Z&&(O(n)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof n)));var t=(0,u.useRef)(n);t.current=(0,u.useMemo)(function(){return n},[n]);var r=(0,u.useRef)();return r.current||(r.current=function(){for(var g=[],i=0;i<arguments.length;i++)g[i]=arguments[i];return t.current.apply(this,g)}),r.current}var Ce=Pe,Ae=function(t){var r=t.content,g=t.color,i=g===void 0?"rgba(0,0,0,.15)":g,m=t.font,y=m===void 0?"normal normal normal 16px sans-serif":m,P=t.rotate,D=P===void 0?-22:P,c=t.gap,s=c===void 0?[100,100]:c,v=t.offset,p=v===void 0?[0,0]:v,b=t.zIndex,W=b===void 0?9:b,U=t.children,C=(0,u.useState)(""),T=Oe()(C,2),R=T[0],z=T[1],e=Ce(function(){var A=document.createElement("canvas"),h=A.getContext("2d"),N=D%360;h.fillStyle=i,h.font=y,h.textBaseline="top";var Q=h.measureText(r),te=Q.actualBoundingBoxDescent,M=Q.actualBoundingBoxAscent,K=Q.width,V=te-M,w=Math.abs(N),H=w>270?360-w:w>180?w-180:w>90?180-w:w,re=Math.sin(H*Math.PI/180)*V+Math.cos(H*Math.PI/180)*K,ne=Math.sin(H*Math.PI/180)*K+Math.cos(H*Math.PI/180)*V;A.width=re+s[0],A.height=ne+s[1],h.fillStyle=i,h.font=y,h.textBaseline="top",h.translate(re/2,ne/2),h.rotate(N*Math.PI/180),h.fillText(r,-K/2,-V/2),z(A.toDataURL("image/png"))});return(0,u.useEffect)(function(){e()},[r,i,y,D,s]),(0,$.jsxs)("div",{style:{position:"relative"},children:[R&&(0,$.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:"url(".concat(R,")"),backgroundRepeat:"repeat",zIndex:W,pointerEvents:"none",backgroundPosition:"".concat(p[0],"px ").concat(p[1],"px")}}),U]})},Me=(0,u.memo)(Ae),we=function(){return(0,$.jsx)($.Fragment,{children:"\u8FD9\u662F\u8BCD\u4E91\u7EC4\u4EF6"})},Be=we},67825:function(x,B,a){var j=a(64382);function S(u,L){if(u==null)return{};var _=j(u,L),I,O;if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(u);for(O=0;O<F.length;O++)I=F[O],!(L.indexOf(I)>=0)&&Object.prototype.propertyIsEnumerable.call(u,I)&&(_[I]=u[I])}return _}x.exports=S,x.exports.__esModule=!0,x.exports.default=x.exports},64382:function(x){function B(a,j){if(a==null)return{};var S={},u=Object.keys(a),L,_;for(_=0;_<u.length;_++)L=u[_],!(j.indexOf(L)>=0)&&(S[L]=a[L]);return S}x.exports=B,x.exports.__esModule=!0,x.exports.default=x.exports}}]);
